# Bank Statement Table Extractor

## Танилцуулга
Энэхүү ажил нь банкны хуулгаас хүснэгт хэлбэрийн мэдээллийг автоматаар таньж structured data болгон хувиргах зориулалттай.  
Энгийн OCR технологиудтай харьцуулахад илүү өндөр нарийвчлал, бүтцийн тогтвортой байдлыг хангах зорилгоор хиймэл оюун ухааны загварыг ашигласан.

## Сонгосон аргачлал, шалтгаан
Би Tesseract, Google Vision, TableExtractor зэрэг олон төрлийн OCR технологийг туршиж үзсэн. Гэвч эдгээр нь текстийг зөв таних хэдий ч хүснэгтийн бүтэц, мөр, баганын нарийвчлалыг алдагдуулах, тодорхой бус мөрүүдийг гээх зэрэг сул талтай байлаа.  
Энэ сул талыг нөхөхийн тулд OpenAI GPT загвар, instructor сангийн хамт structured JSON хэлбэрээр хүснэгтийг буцаах аргачлалыг сонгосон.  

Ингэснээр:
- Хүснэгтийн мөр бүрийн 6 багана заавал бөглөгдөж, өгөгдлийн бүрэн бүтэн байдал хангагдана.
- Description, Amount, Balance зэрэг баганууд буруу ангилагдахгүй.
- Давхардсан огноо болон олон мөртэй гүйлгээ бүрийг тусад нь авч үзэх боломжтой.

## Prompt дизайн
Энэ ажилд **one-shot prompt** ашиглан технологио эхлүүлсэн. Загварт хамгийн бага жишээ өгч хамгийн сайн үр дүн гаргахыг зорьж, prompt-оо нарийн зааварчилгаатайгаар бичсэн.  
Цаашид илүү сайн үр дүн гаргахын тулд **few-shot prompt** зэрэг нэмэлт технологиудыг ашиглан загварын гүйцэтгэлийг сайжруулах боломжтой.  
Мөн prompt-оо хатуу дүрэм, баганын тоо, огнооны формат, Description-ийн бүтцийг маш тодорхой өгснөөр AI загвар улам нарийн ажиллаж байна.

## Ашигласан технологи
- **OpenAI GPT-4o + instructor**: Хүснэгтийг structured JSON хэлбэрт гарган авах.
- **Pydantic BaseModel**: Өгөгдлийн бүтцийн найдвартай байдлыг баталгаажуулах.
- **Pandas**: Хүснэгтийн өгөгдлийг DataFrame болгон хувиргаж CSV файл үүсгэх.
- **Gradio**: Хэрэглэгчдэд зориулсан веб интерфэйс (user pipeline).

## Гарч болох асуудлууд
- OCR болон AI загвар бүдэг, тодорхой бус текстийг буруу таних магадлалтай.
- Банкны хуулганы загвар өөрчлөгдөхөд prompt-оо өөрчлөх шаардлага гарч магадгүй.
- 100 хувь төгс биш, гэхдээ үр дүнгийн чанар нь Tesseract болон Google Vision зэрэг OCR-уудаас илүү байгаа.

## Цаашид сайжруулах боломжууд
- Олон төрлийн хуулгын форматыг илүү нарийн таних чадвар нэмэх.
- Few-shot prompt болон нэмэлт жишээ ашиглаж гүйцэтгэлийг сайжруулах.
- Том хэмжээний зураг, олон хуудсыг зэрэг боловсруулдаг болгох.
- Автомат шалгалт нэмж системийн найдвартай байдлыг баталгаажуулах.

## Ашиглах заавар
1. Шаардлагатай сангуудыг суулгана:
   ```bash
   pip install instructor gradio
##### OpenAI API-KEY холбох:
##### export OPENAI_API_KEY="таны_API_түлхүүр"
##### Код ажиллуулах:
##### python extraction_script.py
Нээгдсэн веб интерфэйс дээр банкны хуулгын зургийг байршуулж хүснэгтийг шалгана.
Дүгнэлт
Би анх OCR технологиудаар туршилт хийсэн боловч GPT ашигласан энэхүү арга хамгийн өндөр үр дүн өгсөн. Одоогоор 100 хувь төгс биш боловч structured data гаргах чанараараа өмнөх технологиудаас давуу байна. Цаашид prompt болон AI-гаа илүү боловсруулж нарийвчлан сайжруулах боломжтой.
